<html>
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta name="HandheldFriendly" content="true" />
		<meta name="mobile-web-app-capable" content="yes" />
		<style> body {padding: 0; margin: 0} </style>
		<script language="javascript" src="../libraries/p5.js"></script>
		<script language="javascript" src="../libraries/p5.dom.js"></script>
		
		
	</head>
	<body>
  
<script>
//http://localhost:8000/muffy/matrix.html

var my_x, my_y;
var listOfBlobs = [];
var counter = 0;
var numberOfBlobs;
var global_y = 0;
var shadow_depth = 2;




	function setup(){
		
		createCanvas(1600,900);
		numberOfBlobs = random(400,1000);
		my_x = random(100, width-100);
		my_y = random(100, height/5);
		noStroke()
		
		for (var thing = 0; thing < numberOfBlobs; thing++){
			my_x += random(-5, 5);
			my_y += random(-5, 5);
			var my_fill_light = random(122,255);
			var my_fill_dark = random(0,122);
			temp = [my_x, my_y, my_fill_light, my_fill_dark];
			listOfBlobs.push(temp);
		}
		
		
		
	}

function draw(){

	background(122);
    text('refresh page to make new blob', 0, 50);
	
	if (counter < listOfBlobs.length){
	
		for(var item = 0; item < counter; item++){
			var x1 = listOfBlobs[item][0];
			var y1 = listOfBlobs[item][1];
			var fill_light = listOfBlobs[item][2];
			var fill_dark = listOfBlobs[item][3];
			fill(fill_dark);
			ellipse(x1,y1+global_y, 6, 6);
			fill(fill_light);
			ellipse(x1,y1+global_y-shadow_depth, 6, 6);
			}
		}
		else //keep it on the screen once it's drawn
		{
		for(var item = 0; item < listOfBlobs.length; item++){
			var x1 = listOfBlobs[item][0];
			var y1 = listOfBlobs[item][1];
			var fill_light = listOfBlobs[item][2];
			var fill_dark = listOfBlobs[item][3];
			fill(fill_dark);
			ellipse(x1,y1+global_y, 6, 6);
			fill(fill_light);
			ellipse(x1,y1+global_y-shadow_depth, 6, 6);
			}
		}
		counter ++;
		global_y += 0.5;
	}
  </script>



</body>
</html>